<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MrDomestos*</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="theme-dark">
  <div class="version-badge">v0.1.0</div>
  <div class="app">
    <!-- Servers Sidebar -->
    <nav class="servers" id="servers-list">
      <div class="server-btn home-btn active" data-view="home" title="Главная">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      </div>
      <div class="server-divider"></div>
      <div class="server-btn add-server" id="add-server-btn" title="Создать сервер">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </div>
      <div class="server-btn join-server" id="join-server-btn" title="Присоединиться">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
      </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-view home-view active" id="home-view">
        <div class="sidebar-header"><h2>MrDomestos*</h2></div>
        <div class="sidebar-nav">
          <button class="nav-btn active" id="friends-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            Друзья
          </button>
        </div>
        <div class="sidebar-section">
          <div class="section-title">Личные сообщения</div>
          <div id="dm-list"></div>
        </div>
      </div>

      <div class="sidebar-view server-view" id="server-view">
        <div class="sidebar-header server-header">
          <h2 id="server-name">Сервер</h2>
          <button class="icon-btn" id="server-menu-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
        </div>
        <div class="sidebar-section">
          <div class="section-title">
            <span>Текстовые каналы</span>
            <button class="add-btn" id="add-channel-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button>
          </div>
          <div id="channel-list"></div>
        </div>
        <div class="sidebar-section">
          <div class="section-title">
            <span>Голосовые каналы</span>
            <button class="add-btn" id="add-voice-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button>
          </div>
          <div id="voice-list"></div>
        </div>
      </div>

      <!-- User Panel -->
      <div class="user-panel">
        <div class="user-avatar" id="user-avatar"></div>
        <div class="user-info">
          <div class="user-name" id="user-name">Гость</div>
          <div class="user-status" id="user-status">В сети</div>
        </div>
        <div class="user-controls">
          <button id="mic-toggle" title="Микрофон"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg></button>
          <button id="sound-toggle" title="Звук"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg></button>
          <button id="settings-btn" title="Настройки"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg></button>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <!-- Friends View -->
      <div class="main-view active" id="friends-view">
        <div class="main-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          <span>Друзья</span>
          <div class="tabs">
            <button class="tab active" data-tab="online">В сети</button>
            <button class="tab" data-tab="all">Все</button>
            <button class="tab" data-tab="pending">Ожидание <span class="pending-count" id="pending-count"></span></button>
            <button class="tab accent" data-tab="add">Добавить</button>
          </div>
        </div>
        <div class="main-content">
          <div class="tab-content active" id="tab-online"><div id="online-users"></div></div>
          <div class="tab-content" id="tab-all"><div id="all-users"></div></div>
          <div class="tab-content" id="tab-pending"><div id="pending-users"></div></div>
          <div class="tab-content" id="tab-add">
            <div class="add-form">
              <h3>Добавить в друзья</h3>
              <p>Найдите пользователя по имени</p>
              <div class="input-row">
                <input type="text" id="search-input" placeholder="Имя пользователя">
                <button class="btn primary" id="search-btn">Найти</button>
              </div>
              <div id="search-results"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Chat View -->
      <div class="main-view" id="chat-view">
        <div class="main-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          <span id="channel-name">общий</span>
          <span class="typing" id="typing"></span>
        </div>
        <div class="messages" id="messages"></div>
        <div class="message-input">
          <button class="icon-btn" id="attach-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg></button>
          <input type="file" id="file-input" hidden>
          <input type="text" id="msg-input" placeholder="Написать сообщение...">
          <button class="icon-btn" id="send-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
      </div>

      <!-- DM View -->
      <div class="main-view" id="dm-view">
        <div class="main-header dm-header">
          <div class="dm-user">
            <div class="avatar small" id="dm-header-avatar"></div>
            <span id="dm-header-name">Пользователь</span>
          </div>
          <div class="dm-header-actions">
            <button class="icon-btn" title="Позвонить"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg></button>
            <button class="icon-btn" title="Видеозвонок"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg></button>
            <button class="icon-btn" title="Закрепить"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="17" x2="12" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24z"/></svg></button>
            <button class="icon-btn" title="Добавить в группу"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg></button>
            <div class="dm-search">
              <input type="text" placeholder="Искать" id="dm-search-input">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            </div>
          </div>
        </div>
        <div class="dm-content">
          <div class="dm-profile">
            <div class="dm-profile-avatar" id="dm-avatar"></div>
            <h2 class="dm-profile-name" id="dm-name">Пользователь</h2>
            <p class="dm-profile-username" id="dm-username">username</p>
            <p class="dm-profile-hint">Это начало истории ваших личных сообщений с <span id="dm-name-hint"></span>.</p>
            <div class="dm-profile-actions">
              <span class="dm-mutual">Нет общих серверов</span>
              <button class="btn primary small">Добавить в друзья</button>
              <button class="btn secondary small">Заблокировать</button>
            </div>
          </div>
          <div class="messages" id="dm-messages"></div>
        </div>
        <div class="message-input">
          <button class="icon-btn" id="dm-attach-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg></button>
          <input type="file" id="dm-file-input" hidden>
          <input type="text" id="dm-input" placeholder="Написать сообщение...">
          <button class="icon-btn" id="dm-send-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
      </div>

      <!-- Voice View -->
      <div class="main-view" id="voice-view">
        <div class="voice-room">
          <h2 id="voice-name">Голосовой канал</h2>
          <div class="voice-users" id="voice-users"></div>
          <div class="voice-controls">
            <button class="voice-btn" id="voice-mic"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg></button>
            <button class="voice-btn danger" id="voice-leave"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M16 2v4"/><path d="M8 2v4"/><path d="M3 10h18"/><path d="M21 6H3a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"/><line x1="9" y1="14" x2="15" y2="14"/></svg></button>
          </div>
        </div>
      </div>
    </main>

    <!-- Members Panel -->
    <aside class="members" id="members-panel">
      <div class="section-title">В сети — <span id="online-count">0</span></div>
      <div id="members-online"></div>
      <div class="section-title">Не в сети — <span id="offline-count">0</span></div>
      <div id="members-offline"></div>
    </aside>
  </div>

  <!-- Context Menu -->
  <div class="context-menu" id="server-context">
    <button data-action="invite"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>Пригласить</button>
    <button data-action="settings"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>Настройки</button>
    <div class="divider"></div>
    <button data-action="leave" class="danger"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>Покинуть</button>
  </div>

  <div class="context-menu" id="member-context">
    <button data-action="profile"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>Профиль</button>
    <button data-action="message"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>Написать сообщение</button>
    <div class="divider" id="member-kick-divider" style="display:none"></div>
    <button data-action="kick" class="danger" id="member-kick-btn" style="display:none"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>Выгнать</button>
  </div>

  <!-- Modals -->
  <div class="modal" id="auth-modal">
    <div class="modal-box">
      <div class="modal-tabs">
        <button class="modal-tab active" data-tab="login">Вход</button>
        <button class="modal-tab" data-tab="register">Регистрация</button>
      </div>
      <div class="modal-content">
        <div class="auth-tab active" id="auth-login">
          <div class="form-group"><label>Email</label><input type="email" id="login-email"></div>
          <div class="form-group"><label>Пароль</label><input type="password" id="login-pass"></div>
          <button class="btn primary full" id="login-btn">Войти</button>
        </div>
        <div class="auth-tab" id="auth-register">
          <div class="form-group"><label>Имя</label><input type="text" id="reg-name"></div>
          <div class="form-group"><label>Email</label><input type="email" id="reg-email"></div>
          <div class="form-group"><label>Пароль</label><input type="password" id="reg-pass"></div>
          <button class="btn primary full" id="reg-btn">Создать аккаунт</button>
        </div>
        <p class="error" id="auth-error"></p>
      </div>
    </div>
  </div>

  <div class="modal" id="settings-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>Настройки</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="settings-layout">
        <div class="settings-nav">
          <button class="settings-tab active" data-settings="profile">Профиль</button>
          <button class="settings-tab" data-settings="audio">Голос и видео</button>
          <button class="settings-tab" data-settings="appearance">Внешний вид</button>
        </div>
        <div class="settings-content">
          <div class="settings-panel active" id="settings-profile">
            <h3>Профиль</h3>
            <div class="avatar-edit">
              <div class="avatar large" id="settings-avatar"></div>
              <div class="avatar-actions">
                <button class="btn" id="upload-avatar">Загрузить</button>
                <button class="btn secondary" id="remove-avatar">Удалить</button>
              </div>
              <input type="file" id="avatar-input" accept="image/*" hidden>
            </div>
            <div class="form-group"><label>Имя пользователя</label><input type="text" id="settings-name"></div>
            <div class="form-group">
              <label>Статус</label>
              <select id="settings-status">
                <option value="online">В сети</option>
                <option value="idle">Не активен</option>
                <option value="dnd">Не беспокоить</option>
                <option value="invisible">Невидимый</option>
              </select>
            </div>
            <button class="btn primary" id="save-profile">Сохранить</button>
          </div>
          <div class="settings-panel" id="settings-audio">
            <h3>Голос и видео</h3>
            <div class="form-group"><label>Устройство ввода</label><select id="mic-select"></select></div>
            <div class="form-group"><label>Устройство вывода</label><select id="speaker-select"></select></div>
            <div class="form-group">
              <label>Громкость микрофона</label>
              <input type="range" id="mic-volume" min="0" max="100" value="100">
            </div>
            <button class="btn primary" id="save-audio">Сохранить</button>
          </div>
          <div class="settings-panel" id="settings-appearance">
            <h3>Внешний вид</h3>
            <div class="theme-options">
              <button class="theme-btn active" data-theme="dark">Тёмная</button>
              <button class="theme-btn" data-theme="light">Светлая</button>
              <button class="theme-btn" data-theme="amoled">AMOLED</button>
              <button class="theme-btn" data-theme="midnight">Полночь</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="create-server-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>Создать сервер</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="avatar-edit center">
          <div class="avatar large" id="new-server-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <button class="btn" id="upload-server-icon">Загрузить иконку</button>
          <input type="file" id="server-icon-input" accept="image/*" hidden>
        </div>
        <div class="form-group"><label>Название сервера</label><input type="text" id="new-server-name" placeholder="Мой сервер"></div>
        <button class="btn primary full" id="create-server-btn">Создать</button>
      </div>
    </div>
  </div>

  <div class="modal" id="join-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>Присоединиться</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group"><label>Код приглашения</label><input type="text" id="invite-code" placeholder="Введите код"></div>
        <button class="btn primary full" id="use-invite-btn">Присоединиться</button>
        <p class="error" id="invite-error"></p>
      </div>
    </div>
  </div>

  <div class="modal" id="invite-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>Пригласить</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <p>Отправьте этот код другу:</p>
        <div class="invite-code-box">
          <input type="text" id="invite-code-display" readonly>
          <button class="btn" id="copy-invite">Копировать</button>
        </div>
        <div class="form-group"><label>Или выберите пользователя</label></div>
        <div id="invite-users"></div>
      </div>
    </div>
  </div>

  <div class="modal" id="server-settings-modal">
    <div class="modal-box large server-settings-box">
      <div class="server-settings-layout">
        <div class="server-settings-nav">
          <div class="nav-section-title">НАСТРОЙКИ</div>
          <button class="server-settings-tab active" data-panel="profile">Профиль сервера</button>
          <button class="server-settings-tab" data-panel="roles">Роли</button>
          <button class="server-settings-tab" data-panel="invites">Приглашения</button>
          <button class="server-settings-tab" data-panel="bans">Баны</button>
          <div class="nav-section-title">МОДЕРАЦИЯ</div>
          <button class="server-settings-tab" data-panel="members">Участники</button>
          <div class="nav-divider"></div>
          <button class="server-settings-tab danger" id="delete-server-btn">Удалить сервер</button>
        </div>
        <div class="server-settings-content">
          <div class="server-settings-header">
            <h2>Профиль сервера</h2>
            <button class="close-btn" data-close>&times;</button>
          </div>
          
          <div class="server-settings-panel active" id="panel-profile">
            <p class="panel-desc">Настройте отображение вашего сервера в ссылках-приглашениях</p>
            <div class="server-profile-layout">
              <div class="server-profile-form">
                <div class="form-group">
                  <label>Имя</label>
                  <input type="text" id="edit-server-name">
                </div>
                <div class="form-group">
                  <label>Значок</label>
                  <p class="form-hint">Мы рекомендуем использовать изображение размером как минимум 512x512</p>
                  <button class="btn primary" id="edit-server-icon-btn">Изменить значок сервера</button>
                  <input type="file" id="edit-icon-input" accept="image/*" hidden>
                </div>
                <div class="form-group">
                  <label>Баннер</label>
                  <div class="banner-colors">
                    <button class="banner-color" data-color="#1a1a2e" style="background: linear-gradient(135deg, #1a1a2e, #16213e)"></button>
                    <button class="banner-color" data-color="#ff6b6b" style="background: linear-gradient(135deg, #ff6b6b, #ee5a24)"></button>
                    <button class="banner-color" data-color="#feca57" style="background: linear-gradient(135deg, #feca57, #ff9f43)"></button>
                    <button class="banner-color" data-color="#48dbfb" style="background: linear-gradient(135deg, #48dbfb, #0abde3)"></button>
                    <button class="banner-color" data-color="#ff9ff3" style="background: linear-gradient(135deg, #ff9ff3, #f368e0)"></button>
                    <button class="banner-color" data-color="#54a0ff" style="background: linear-gradient(135deg, #54a0ff, #2e86de)"></button>
                    <button class="banner-color" data-color="#5f27cd" style="background: linear-gradient(135deg, #5f27cd, #341f97)"></button>
                    <button class="banner-color" data-color="#00d2d3" style="background: linear-gradient(135deg, #00d2d3, #01a3a4)"></button>
                    <button class="banner-color" data-color="#10ac84" style="background: linear-gradient(135deg, #10ac84, #1dd1a1)"></button>
                    <button class="banner-color" data-color="#576574" style="background: linear-gradient(135deg, #576574, #222f3e)"></button>
                  </div>
                </div>
                <button class="btn primary" id="save-server-btn">Сохранить изменения</button>
              </div>
              <div class="server-profile-preview">
                <div class="preview-card">
                  <div class="preview-banner" id="preview-banner"></div>
                  <div class="preview-icon" id="edit-server-icon"></div>
                  <div class="preview-info">
                    <h3 id="preview-server-name">Сервер</h3>
                    <p><span class="online-dot"></span> 0 в сети • 1 участник</p>
                    <p class="preview-date">Дата основания: янв. 2026 г.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="server-settings-panel" id="panel-roles">
            <p class="panel-desc">Управляйте ролями и разрешениями участников</p>
            <div class="roles-list" id="roles-list"></div>
            <div class="form-group">
              <label>Создать роль</label>
              <div class="input-row">
                <input type="text" id="new-role-name" placeholder="Название роли">
                <input type="color" id="new-role-color" value="#5865f2">
                <button class="btn primary" id="create-role-btn">Создать</button>
              </div>
            </div>
          </div>
          
          <div class="server-settings-panel" id="panel-invites">
            <p class="panel-desc">Управляйте приглашениями на сервер</p>
            <div class="invites-list" id="invites-list"></div>
            <button class="btn primary" id="create-invite-btn">Создать приглашение</button>
          </div>
          
          <div class="server-settings-panel" id="panel-bans">
            <p class="panel-desc">Список заблокированных пользователей</p>
            <div class="bans-list" id="bans-list">
              <div class="empty">Нет заблокированных пользователей</div>
            </div>
          </div>
          
          <div class="server-settings-panel" id="panel-members">
            <p class="panel-desc">Управляйте участниками сервера</p>
            <div class="members-manage-list" id="members-manage-list"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="channel-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>Создать канал</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group"><label>Название канала</label><input type="text" id="new-channel-name" placeholder="новый-канал"></div>
        <button class="btn primary full" id="create-channel-btn">Создать</button>
      </div>
    </div>
  </div>

  <div class="modal" id="profile-modal">
    <div class="modal-box profile-box">
      <div class="profile-banner" id="profile-banner"></div>
      <div class="profile-content">
        <div class="profile-avatar-wrap">
          <div class="profile-avatar" id="profile-avatar"></div>
          <div class="profile-status-dot" id="profile-status-dot"></div>
        </div>
        <div class="profile-info">
          <h2 id="profile-name">Имя</h2>
          <span class="profile-username" id="profile-username">username</span>
        </div>
        <div class="profile-actions">
          <button class="btn primary" id="profile-message-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            Написать
          </button>
          <button class="btn secondary" id="profile-friend-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
            <span id="profile-friend-text">Добавить</span>
          </button>
        </div>
        <div class="profile-section">
          <div class="profile-section-title">О себе</div>
          <p id="profile-bio">Пользователь пока ничего не написал</p>
        </div>
        <div class="profile-section">
          <div class="profile-section-title">В числе участников с</div>
          <p id="profile-joined"></p>
        </div>
        <div class="profile-section">
          <div class="profile-section-title">Заметка (видна только вам)</div>
          <input type="text" class="profile-note" id="profile-note" placeholder="Нажмите, чтобы добавить заметку">
        </div>
      </div>
      <button class="profile-close" data-close>&times;</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
