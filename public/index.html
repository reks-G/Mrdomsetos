<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' ws://localhost:3001 wss://localhost:3001 wss://discord-clone-ws.onrender.com wss://*; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; img-src 'self' data: blob:">
  <title>MrDomestos*</title>
  <link rel="icon" type="image/svg+xml" href="icon.svg">
  <link rel="stylesheet" href="styles.css?v=2">
  <style>
    /* Force larger avatars in voice view */
    .voice-user .avatar {
      width: 120px !important;
      height: 120px !important;
      font-size: 48px !important;
      border: 4px solid transparent !important;
      box-shadow: 0 8px 40px rgba(168, 85, 247, 0.4) !important;
    }
    .voice-user .avatar.speaking {
      box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.4), 0 0 40px rgba(34, 197, 94, 0.6) !important;
    }
    .voice-user span {
      font-size: 16px !important;
      color: var(--text-primary) !important;
    }
    .voice-users {
      gap: 60px !important;
    }
    @keyframes speaking-pulse {
      from { box-shadow: 0 0 0 6px rgba(34, 197, 94, 0.3), 0 0 30px rgba(34, 197, 94, 0.5) !important; }
      to { box-shadow: 0 0 0 8px rgba(34, 197, 94, 0.5), 0 0 50px rgba(34, 197, 94, 0.7) !important; }
    }
  </style>
</head>
<body class="theme-dark">
  <!-- Custom Title Bar -->
  <div class="titlebar">
    <div class="titlebar-drag">
      <span class="titlebar-title">‚ú¶ MrDomestos</span>
    </div>
    <div class="titlebar-controls">
      <button class="titlebar-btn" id="minimize-btn">
        <svg viewBox="0 0 12 12"><rect y="5" width="12" height="2" rx="1"/></svg>
      </button>
      <button class="titlebar-btn" id="maximize-btn">
        <svg viewBox="0 0 12 12"><rect x="1" y="1" width="10" height="10" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
      </button>
      <button class="titlebar-btn close" id="close-btn">
        <svg viewBox="0 0 12 12"><path d="M2 2l8 8M10 2L2 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
      </button>
    </div>
  </div>

  <div class="version-badge">beta</div>
  
  <div class="app hidden" id="main-app">
    <!-- Servers Sidebar -->
    <nav class="servers" id="servers-list">
      <div class="server-btn home-btn active" data-view="home" title="–ì–ª–∞–≤–Ω–∞—è">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      </div>
      <div class="server-divider"></div>
      <div class="server-btn add-server" id="add-server-btn" title="–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
      </div>
      <div class="server-btn join-server" id="join-server-btn" title="–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
      </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-view home-view active" id="home-view">
        <div class="sidebar-header"><h2>‚ú¶ MrDomestos</h2></div>
        <div class="sidebar-nav">
          <button class="nav-btn active" id="friends-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            –î—Ä—É–∑—å—è
          </button>
        </div>
        <div class="sidebar-section">
          <div class="section-title">–õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</div>
          <div id="dm-list"></div>
        </div>
      </div>

      <div class="sidebar-view server-view" id="server-view">
        <div class="sidebar-header server-header">
          <h2 id="server-name">–°–µ—Ä–≤–µ—Ä</h2>
          <button class="icon-btn" id="server-menu-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
        </div>
        <div class="sidebar-section">
          <div class="section-title" data-category="text">
            <span>–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã</span>
            <button class="add-btn" id="add-channel-btn" title="–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button>
          </div>
          <div id="channel-list"></div>
          <div class="section-title" data-category="voice">
            <span>–ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã</span>
            <button class="add-btn" id="add-voice-btn" title="–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button>
          </div>
          <div id="voice-list"></div>
        </div>
      </div>

      <!-- User Panel -->
      <div class="user-panel">
        <div class="user-avatar" id="user-avatar"></div>
        <div class="user-info">
          <div class="user-name" id="user-name">–ì–æ—Å—Ç—å</div>
          <div class="user-status" id="user-status">–í —Å–µ—Ç–∏</div>
        </div>
        <div class="user-controls">
          <button id="mic-toggle" title="–ú–∏–∫—Ä–æ—Ñ–æ–Ω"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg></button>
          <button id="sound-toggle" title="–ó–≤—É–∫"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg></button>
          <button id="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg></button>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <!-- Friends View -->
      <div class="main-view active" id="friends-view">
        <div class="main-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          <span>–î—Ä—É–∑—å—è</span>
          <div class="tabs">
            <button class="tab active" data-tab="online">–í —Å–µ—Ç–∏</button>
            <button class="tab" data-tab="all">–í—Å–µ</button>
            <button class="tab" data-tab="pending">–û–∂–∏–¥–∞–Ω–∏–µ <span class="pending-count" id="pending-count"></span></button>
            <button class="tab accent" data-tab="add">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </div>
        <div class="main-content">
          <div class="tab-content active" id="tab-online"><div id="online-users"></div></div>
          <div class="tab-content" id="tab-all"><div id="all-users"></div></div>
          <div class="tab-content" id="tab-pending"><div id="pending-users"></div></div>
          <div class="tab-content" id="tab-add">
            <div class="add-form">
              <h3>–î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è</h3>
              <p>–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∏–º–µ–Ω–∏</p>
              <div class="input-row">
                <input type="text" id="search-input" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                <button class="btn primary" id="search-btn">–ù–∞–π—Ç–∏</button>
              </div>
              <div id="search-results"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Chat View -->
      <div class="main-view" id="chat-view">
        <div class="main-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          <span id="channel-name">–æ–±—â–∏–π</span>
          <span class="typing" id="typing"></span>
          <div class="header-actions">
            <button class="icon-btn" id="search-channel-btn" title="–ü–æ–∏—Å–∫"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></button>
          </div>
        </div>
        <div class="messages" id="messages"></div>
        <div class="reply-bar" id="reply-bar">
          <div class="reply-info">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>
            <span>–û—Ç–≤–µ—Ç –¥–ª—è <strong class="reply-name"></strong></span>
            <span class="reply-text"></span>
          </div>
          <button class="reply-close" id="reply-close">&times;</button>
        </div>
        <div class="message-input">
          <button class="icon-btn" id="attach-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg></button>
          <input type="file" id="file-input" hidden>
          <input type="text" id="msg-input" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ...">
          <button class="icon-btn" id="send-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
      </div>

      <!-- DM View -->
      <div class="main-view" id="dm-view">
        <div class="main-header dm-header">
          <div class="dm-user">
            <div class="avatar small" id="dm-header-avatar"></div>
            <span id="dm-header-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
          </div>
        </div>
        <div class="dm-content">
          <div class="dm-profile">
            <div class="dm-profile-avatar" id="dm-avatar"></div>
            <h2 class="dm-profile-name" id="dm-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
            <p class="dm-profile-hint">–≠—Ç–æ –Ω–∞—á–∞–ª–æ –∏—Å—Ç–æ—Ä–∏–∏ –≤–∞—à–∏—Ö –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.</p>
          </div>
          <div class="messages" id="dm-messages"></div>
        </div>
        <div class="message-input">
          <button class="icon-btn" id="dm-attach-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg></button>
          <input type="file" id="dm-file-input" hidden>
          <input type="text" id="dm-input" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ...">
          <button class="icon-btn" id="dm-send-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
      </div>

      <!-- Voice View -->
      <div class="main-view" id="voice-view">
        <div class="voice-header">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>
          <span id="voice-name">–ì–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª</span>
        </div>
        <div class="voice-room">
          <div class="voice-users" id="voice-users"></div>
        </div>
        <div class="voice-toolbar">
          <div class="voice-toolbar-group">
            <button class="voice-tool-btn" id="voice-mic" title="–ú–∏–∫—Ä–æ—Ñ–æ–Ω">
              <svg class="mic-on" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
              <svg class="mic-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;"><line x1="1" y1="1" x2="23" y2="23"/><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"/><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
            </button>
            <button class="voice-tool-btn dropdown" id="voice-mic-settings">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </button>
            <button class="voice-tool-btn" id="voice-video" title="–í–∏–¥–µ–æ">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>
            </button>
            <button class="voice-tool-btn dropdown" id="voice-video-settings">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </button>
          </div>
          <div class="voice-toolbar-group">
            <button class="voice-tool-btn" id="voice-noise" title="–®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3l18 18M12 2v8m0 4v8M8 6v12M16 6v12M4 10v4M20 10v4"/></svg>
            </button>
            <button class="voice-tool-btn" id="voice-screen" title="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
            </button>
          </div>
          <button class="voice-leave-btn" id="voice-leave" title="–û—Ç–∫–ª—é—á–∏—Ç—å—Å—è">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/><line x1="23" y1="1" x2="1" y2="23"/></svg>
          </button>
        </div>
      </div>
    </main>

    <!-- Members Panel -->
    <aside class="members" id="members-panel">
      <div class="section-title">–í —Å–µ—Ç–∏ - <span id="online-count">0</span></div>
      <div id="members-online"></div>
      <div class="section-title">–ù–µ –≤ —Å–µ—Ç–∏ - <span id="offline-count">0</span></div>
      <div id="members-offline"></div>
    </aside>
  </div>

  <!-- Context Menus -->
  <div class="context-menu" id="server-context">
    <button data-action="invite"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</button>
    <button data-action="settings"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    <div class="divider"></div>
    <button data-action="leave" class="danger"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>–ü–æ–∫–∏–Ω—É—Ç—å</button>
  </div>

  <!-- Channel Context Menu -->
  <div class="context-menu" id="channel-context">
    <button data-action="edit-channel"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª</button>
    <button data-action="clone-channel"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª</button>
    <div class="divider"></div>
    <button data-action="delete-channel" class="danger"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª</button>
  </div>

  <!-- Category Context Menu -->
  <div class="context-menu" id="category-context">
    <button data-action="create-channel"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª</button>
    <button data-action="edit-category"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
  </div>

  <!-- Message Context Menu -->
  <div class="context-menu message-context" id="message-context">
    <button data-action="reply"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 14 4 9 9 4"/><path d="M20 20v-7a4 4 0 0 0-4-4H4"/></svg>–û—Ç–≤–µ—Ç–∏—Ç—å</button>
    <button data-action="forward"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 14 20 9 15 4"/><path d="M4 20v-7a4 4 0 0 1 4-4h12"/></svg>–ü–µ—Ä–µ—Å–ª–∞—Ç—å</button>
    <div class="divider"></div>
    <button data-action="copy-text"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç</button>
    <div class="divider"></div>
    <button data-action="delete-message" class="danger"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>–£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
  </div>

  <!-- Voice User Context Menu -->
  <div class="context-menu" id="voice-user-context">
    <button data-action="send-dm"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</button>
    <button data-action="add-friend"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>–î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è</button>
  </div>

  <!-- Member Context Menu -->
  <div class="context-menu" id="member-context">
    <button data-action="view-profile"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
    <button data-action="send-dm"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
    <button data-action="voice-call"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>–ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
    <button data-action="add-friend"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>–î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è</button>
    <div class="divider"></div>
    <button data-action="kick-member" class="danger admin-only"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="18" y1="8" x2="23" y2="13"/><line x1="23" y1="8" x2="18" y2="13"/></svg>–ò—Å–∫–ª—é—á–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞</button>
    <button data-action="ban-member" class="danger admin-only"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"/></svg>–ó–∞–±–∞–Ω–∏—Ç—å</button>
  </div>

  <!-- User Profile Modal -->
  <div class="modal" id="user-profile-modal">
    <div class="modal-content user-profile-modal">
      <div class="profile-banner"></div>
      <div class="profile-header">
        <div class="profile-avatar-wrapper">
          <div class="profile-avatar" id="profile-avatar">?</div>
          <div class="profile-status-badge" id="profile-status-badge"></div>
        </div>
        <div class="profile-actions">
          <button class="profile-action-btn" id="profile-dm-btn" title="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          </button>
          <button class="profile-action-btn" id="profile-call-btn" title="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
          </button>
          <button class="profile-action-btn" id="profile-friend-btn" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
          </button>
        </div>
      </div>
      <div class="profile-body">
        <h2 class="profile-name" id="profile-name">Username</h2>
        <p class="profile-custom-status" id="profile-custom-status"></p>
        <div class="profile-section">
          <h3>–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h3>
          <div class="profile-info">
            <div class="profile-info-item">
              <span class="label">–°—Ç–∞—Ç—É—Å</span>
              <span class="value" id="profile-status-text">–í —Å–µ—Ç–∏</span>
            </div>
            <div class="profile-info-item">
              <span class="label">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω</span>
              <span class="value" id="profile-created">‚Äî</span>
            </div>
          </div>
        </div>
        <div class="profile-section" id="profile-mutual-section">
          <h3>–û–±—â–∏–µ —Å–µ—Ä–≤–µ—Ä—ã</h3>
          <div class="profile-mutual-servers" id="profile-mutual-servers"></div>
        </div>
      </div>
      <button class="modal-close" onclick="closeModal('user-profile-modal')">&times;</button>
    </div>
  </div>

  <!-- Auth Screen -->
  <div class="auth-screen active" id="auth-screen">
    <div class="auth-bg">
      <div class="planet planet-1"></div>
      <div class="planet planet-2"></div>
      <div class="stars"></div>
    </div>
    
    <!-- Loading Overlay -->
    <div class="auth-loading" id="auth-loading">
      <div class="loading-logo">
        <svg viewBox="0 0 100 100">
          <defs>
            <linearGradient id="logo-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#7289da"/>
              <stop offset="100%" style="stop-color:#5865f2"/>
            </linearGradient>
          </defs>
          <circle cx="50" cy="50" r="45" fill="url(#logo-gradient)"/>
          <text x="50" y="65" text-anchor="middle" fill="white" font-size="40" font-weight="bold" font-family="Arial">M</text>
        </svg>
      </div>
      <div class="loading-text">
        <h2>MrDomestos</h2>
        <p>–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤—Å—ë –¥–ª—è –≤–∞—Å...</p>
      </div>
      <div class="loading-progress">
        <div class="loading-progress-bar"></div>
      </div>
      <div class="loading-dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div class="loading-tips">–°–æ–≤–µ—Ç: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ctrl+K –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞</div>
    </div>
    
    <div class="auth-container">
      <div class="auth-box" id="login-box">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
        <p class="auth-subtitle">–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç MrDomestos</p>
        <div class="auth-form">
          <div class="auth-field">
            <input type="email" id="login-email" placeholder="Email" required>
          </div>
          <div class="auth-field password-field">
            <input type="password" id="login-pass" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="button" class="show-pass" id="show-login-pass">–ü–æ–∫–∞–∑–∞—Ç—å</button>
          </div>
          <a href="#" class="forgot-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
          <button class="auth-btn" id="login-btn">–í–æ–π—Ç–∏</button>
          <div class="auth-divider"><span>–∏–ª–∏</span></div>
          <button class="auth-btn secondary" id="guest-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
            –í–æ–π—Ç–∏ –∫–∞–∫ –≥–æ—Å—Ç—å
          </button>
        </div>
        <p class="auth-footer">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="show-register">–°–æ–∑–¥–∞—Ç—å</a></p>
        <p class="error" id="login-error"></p>
      </div>
      
      <div class="auth-box hidden" id="register-box">
        <h1>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h1>
        <p class="auth-subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ MrDomestos</p>
        <div class="auth-form">
          <div class="auth-field">
            <input type="text" id="reg-name" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
          </div>
          <div class="auth-field">
            <input type="email" id="reg-email" placeholder="Email" required>
          </div>
          <div class="auth-field password-field">
            <input type="password" id="reg-pass" placeholder="–ü–∞—Ä–æ–ª—å" required>
            <button type="button" class="show-pass" id="show-reg-pass">–ü–æ–∫–∞–∑–∞—Ç—å</button>
          </div>
          <button class="auth-btn" id="reg-btn">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
        </div>
        <p class="auth-footer">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="show-login">–í–æ–π—Ç–∏</a></p>
        <p class="error" id="reg-error"></p>
      </div>
    </div>
  </div>

  <div class="modal" id="settings-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="settings-layout">
        <div class="settings-nav">
          <button class="settings-tab active" data-settings="profile">–ü—Ä–æ—Ñ–∏–ª—å</button>
          <button class="settings-tab" data-settings="audio">–ì–æ–ª–æ—Å –∏ –≤–∏–¥–µ–æ</button>
        </div>
        <div class="settings-content">
          <div class="settings-panel active" id="settings-profile">
            <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
            <div class="avatar-edit">
              <div class="avatar large" id="settings-avatar"></div>
              <div class="avatar-actions">
                <button class="btn" id="upload-avatar">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                <button class="btn secondary" id="remove-avatar">–£–¥–∞–ª–∏—Ç—å</button>
              </div>
              <input type="file" id="avatar-input" accept="image/*" style="display:none">
            </div>
            <div class="form-group"><label>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label><input type="text" id="settings-name"></div>
            <button class="btn primary" id="save-profile">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <div class="signout-section">
              <button class="btn danger" id="signout-btn">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
            </div>
          </div>
          <div class="settings-panel" id="settings-audio">
            <h3>–ì–æ–ª–æ—Å –∏ –≤–∏–¥–µ–æ</h3>
            <div class="form-group">
              <label>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–≤–æ–¥–∞</label>
              <div class="custom-select" id="mic-select-wrapper">
                <div class="custom-select-trigger" id="mic-select-trigger">
                  <span>–í—ã–±–µ—Ä–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω</span>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="custom-select-options" id="mic-select-options"></div>
              </div>
              <input type="hidden" id="mic-select">
            </div>
            <div class="form-group">
              <label>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–≤–æ–¥–∞</label>
              <div class="custom-select" id="speaker-select-wrapper">
                <div class="custom-select-trigger" id="speaker-select-trigger">
                  <span>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–Ω–∞–º–∏–∫</span>
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
                </div>
                <div class="custom-select-options" id="speaker-select-options"></div>
              </div>
              <input type="hidden" id="speaker-select">
            </div>
            <div class="form-group">
              <label>–ì—Ä–æ–º–∫–æ—Å—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</label>
              <input type="range" id="mic-volume" min="0" max="100" value="100">
            </div>
            <div class="form-group mic-test-section">
              <label>–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</label>
              <p class="hint">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ ‚Äî –≤—ã —É—Å–ª—ã—à–∏—Ç–µ —Å–µ–±—è –≤ –Ω–∞—É—à–Ω–∏–∫–∞—Ö</p>
              <div class="mic-test-row">
                <button class="btn primary" id="mic-test-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
                  <span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω</span>
                </button>
                <div class="mic-level-container">
                  <div class="mic-level-bar" id="mic-level-bar"></div>
                </div>
              </div>
            </div>
            <button class="btn primary" id="save-audio">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="create-server-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="avatar-edit center">
          <div class="avatar large" id="new-server-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <button class="btn" id="upload-server-icon">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∫–æ–Ω–∫—É</button>
          <input type="file" id="server-icon-input" accept="image/*" hidden>
        </div>
        <div class="form-group"><label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞</label><input type="text" id="new-server-name" placeholder="–ú–æ–π —Å–µ—Ä–≤–µ—Ä"></div>
        <button class="btn primary full" id="create-server-btn">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <div class="modal" id="join-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group"><label>–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</label><input type="text" id="invite-code" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥"></div>
        <button class="btn primary full" id="use-invite-btn">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
        <p class="error" id="invite-error"></p>
      </div>
    </div>
  </div>

  <div class="modal" id="invite-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –¥—Ä—É–≥—É:</p>
        <div class="invite-code-box">
          <input type="text" id="invite-code-display" readonly>
          <button class="btn" id="copy-invite">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="channel-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group"><label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label><input type="text" id="new-channel-name" placeholder="–Ω–æ–≤—ã–π-–∫–∞–Ω–∞–ª"></div>
        <button class="btn primary full" id="create-channel-btn">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- Server Settings Modal -->
  <div class="modal" id="server-settings-modal">
    <div class="modal-box xlarge">
      <div class="modal-header"><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="settings-layout server-settings-layout">
        <div class="settings-nav">
          <div class="settings-nav-section">
            <div class="settings-nav-title">–°–µ—Ä–≤–µ—Ä</div>
            <button class="settings-tab active" data-server-settings="profile">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="10" r="3"/><path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"/></svg>
              –ü—Ä–æ—Ñ–∏–ª—å —Å–µ—Ä–≤–µ—Ä–∞
            </button>
            <button class="settings-tab" data-server-settings="reactions">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
              –†–µ–∞–∫—Ü–∏–∏
            </button>
            <button class="settings-tab" data-server-settings="emoji">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg>
              –≠–º–æ–¥–∑–∏
            </button>
            <button class="settings-tab" data-server-settings="stickers">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z"/><path d="M15 3v6h6"/></svg>
              –°—Ç–∏–∫–µ—Ä—ã
            </button>
          </div>
          <div class="settings-nav-divider"></div>
          <div class="settings-nav-section">
            <div class="settings-nav-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
            <button class="settings-tab" data-server-settings="people">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
              –õ—é–¥–∏
            </button>
            <button class="settings-tab" data-server-settings="members">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
              –£—á–∞—Å—Ç–Ω–∏–∫–∏
            </button>
            <button class="settings-tab" data-server-settings="roles">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
              –†–æ–ª–∏
            </button>
            <button class="settings-tab" data-server-settings="invites">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
              –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
            </button>
            <button class="settings-tab" data-server-settings="audit">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
              –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞
            </button>
            <button class="settings-tab" data-server-settings="bans">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"/></svg>
              –ë–∞–Ω—ã
            </button>
          </div>
          <div class="settings-nav-divider"></div>
          <button class="settings-tab danger-tab" data-server-settings="danger">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
            –£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
          </button>
        </div>
        <div class="settings-content">
          <!-- –ü—Ä–æ—Ñ–∏–ª—å —Å–µ—Ä–≤–µ—Ä–∞ -->
          <div class="settings-panel active" id="server-settings-profile">
            <h3>–ü—Ä–æ—Ñ–∏–ª—å —Å–µ—Ä–≤–µ—Ä–∞</h3>
            <p class="settings-hint">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ.</p>
            <div class="server-profile-section">
              <div class="avatar-edit center">
                <div class="avatar large server-avatar" id="edit-server-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                  <div class="avatar-overlay">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
                    <span>–ò–∑–º–µ–Ω–∏—Ç—å</span>
                  </div>
                </div>
                <button class="btn" id="change-server-icon">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∫–æ–Ω–∫—É</button>
                <button class="btn secondary" id="remove-server-icon">–£–¥–∞–ª–∏—Ç—å</button>
                <input type="file" id="edit-server-icon-input" accept="image/*" hidden>
              </div>
              <div class="form-group">
                <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞</label>
                <input type="text" id="edit-server-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞">
                <span class="form-hint">–≠—Ç–æ –∏–º—è –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–æ–≤</span>
              </div>
              <div class="form-group">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞</label>
                <textarea id="edit-server-description" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ..." rows="3"></textarea>
                <span class="form-hint">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
              </div>
              <div class="form-group">
                <label>–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞</label>
                <div class="privacy-options">
                  <label class="radio-option">
                    <input type="radio" name="server-privacy" value="public" checked>
                    <div class="radio-content">
                      <span class="radio-title">–ü—É–±–ª–∏—á–Ω—ã–π</span>
                      <span class="radio-desc">–õ—é–±–æ–π –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</span>
                    </div>
                  </label>
                  <label class="radio-option">
                    <input type="radio" name="server-privacy" value="private">
                    <div class="radio-content">
                      <span class="radio-title">–ü—Ä–∏–≤–∞—Ç–Ω—ã–π</span>
                      <span class="radio-desc">–¢–æ–ª—å–∫–æ –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é</span>
                    </div>
                  </label>
                </div>
              </div>
              <button class="btn primary" id="save-server-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </div>
          </div>

          <!-- –†–µ–∞–∫—Ü–∏–∏ -->
          <div class="settings-panel" id="server-settings-reactions">
            <h3>–†–µ–∞–∫—Ü–∏–∏</h3>
            <p class="settings-hint">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∞–∫—Ü–∏–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ.</p>
            <div class="reactions-section">
              <div class="section-header">
                <h4>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏</h4>
                <p class="section-desc">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</p>
              </div>
              <div class="default-reactions-grid" id="default-reactions-grid">
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üëç" checked><span class="emoji">üëç</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üëé" checked><span class="emoji">üëé</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="‚ù§Ô∏è" checked><span class="emoji">‚ù§Ô∏è</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üòÇ" checked><span class="emoji">üòÇ</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üòÆ" checked><span class="emoji">üòÆ</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üò¢" checked><span class="emoji">üò¢</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üò°" checked><span class="emoji">üò°</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üéâ" checked><span class="emoji">üéâ</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üî•" checked><span class="emoji">üî•</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="üíØ" checked><span class="emoji">üíØ</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="‚úÖ" checked><span class="emoji">‚úÖ</span></label>
                <label class="reaction-checkbox"><input type="checkbox" data-emoji="‚ùå" checked><span class="emoji">‚ùå</span></label>
              </div>
              <div class="section-header" style="margin-top: 24px;">
                <h4>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–∞–∫—Ü–∏–∏</h4>
                <p class="section-desc">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π</p>
              </div>
              <div class="custom-reactions-list" id="custom-reactions-list">
                <div class="empty-state small">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</div>
              </div>
              <div class="upload-area" id="reaction-upload-area">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                <span>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</span>
                <input type="file" id="reaction-upload-input" accept="image/*" hidden>
              </div>
              <button class="btn primary" id="save-reactions-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
          </div>

          <!-- –≠–º–æ–¥–∑–∏ -->
          <div class="settings-panel" id="server-settings-emoji">
            <h3>–≠–º–æ–¥–∑–∏ —Å–µ—Ä–≤–µ—Ä–∞</h3>
            <p class="settings-hint">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.</p>
            <div class="emoji-section">
              <div class="emoji-stats">
                <div class="stat-item">
                  <span class="stat-value" id="emoji-count">0</span>
                  <span class="stat-label">/ 50 —ç–º–æ–¥–∑–∏</span>
                </div>
              </div>
              <div class="emoji-list" id="server-emoji-list">
                <div class="empty-state">–≠–º–æ–¥–∑–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π!</div>
              </div>
              <div class="upload-area" id="emoji-upload-area">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å —ç–º–æ–¥–∑–∏ (PNG, JPG, GIF –¥–æ 256KB)</span>
                <input type="file" id="emoji-upload-input" accept="image/png,image/jpeg,image/gif" hidden>
              </div>
              <div class="emoji-requirements">
                <h5>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —ç–º–æ–¥–∑–∏:</h5>
                <ul>
                  <li>–†–∞–∑–º–µ—Ä: 128x128 –ø–∏–∫—Å–µ–ª–µ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</li>
                  <li>–§–æ—Ä–º–∞—Ç: PNG, JPG –∏–ª–∏ GIF</li>
                  <li>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 256KB</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- –°—Ç–∏–∫–µ—Ä—ã -->
          <div class="settings-panel" id="server-settings-stickers">
            <h3>–°—Ç–∏–∫–µ—Ä—ã</h3>
            <p class="settings-hint">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Ç–∏–∫–µ—Ä–∞–º–∏ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.</p>
            <div class="stickers-section">
              <div class="stickers-stats">
                <div class="stat-item">
                  <span class="stat-value" id="sticker-count">0</span>
                  <span class="stat-label">/ 15 —Å—Ç–∏–∫–µ—Ä–æ–≤</span>
                </div>
              </div>
              <div class="stickers-categories">
                <button class="category-btn active" data-category="all">–í—Å–µ</button>
                <button class="category-btn" data-category="memes">–ú–µ–º—ã</button>
                <button class="category-btn" data-category="emotions">–≠–º–æ—Ü–∏–∏</button>
                <button class="category-btn" data-category="custom">–î—Ä—É–≥–æ–µ</button>
              </div>
              <div class="stickers-grid" id="server-stickers-grid">
                <div class="empty-state">–°—Ç–∏–∫–µ—Ä—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</div>
              </div>
              <div class="upload-area" id="sticker-upload-area">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∏–∫–µ—Ä (PNG –¥–æ 512KB, 320x320px)</span>
                <input type="file" id="sticker-upload-input" accept="image/png" hidden>
              </div>
            </div>
          </div>

          <!-- –õ—é–¥–∏ -->
          <div class="settings-panel" id="server-settings-people">
            <h3>–õ—é–¥–∏</h3>
            <p class="settings-hint">–û–±–∑–æ—Ä –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞.</p>
            <div class="people-section">
              <div class="people-stats">
                <div class="stat-card">
                  <span class="stat-value" id="total-members-count">0</span>
                  <span class="stat-label">–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
                </div>
                <div class="stat-card">
                  <span class="stat-value online" id="online-members-count">0</span>
                  <span class="stat-label">–í —Å–µ—Ç–∏</span>
                </div>
                <div class="stat-card">
                  <span class="stat-value" id="new-members-count">0</span>
                  <span class="stat-label">–ù–æ–≤—ã—Ö –∑–∞ –Ω–µ–¥–µ–ª—é</span>
                </div>
              </div>
              <div class="people-filters">
                <input type="text" id="people-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏...">
                <select id="people-role-filter">
                  <option value="all">–í—Å–µ —Ä–æ–ª–∏</option>
                </select>
                <select id="people-status-filter">
                  <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                  <option value="online">–í —Å–µ—Ç–∏</option>
                  <option value="offline">–ù–µ –≤ —Å–µ—Ç–∏</option>
                </select>
              </div>
              <div class="people-list" id="people-list">
                <div class="empty-state">–ó–∞–≥—Ä—É–∑–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...</div>
              </div>
            </div>
          </div>

          <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ -->
          <div class="settings-panel" id="server-settings-members">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏</h3>
            <p class="settings-hint">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ä–æ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞.</p>
            <div class="members-management">
              <div class="members-search">
                <input type="text" id="members-search-input" placeholder="–ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...">
              </div>
              <div class="members-list" id="server-members-list"></div>
            </div>
          </div>

          <!-- –†–æ–ª–∏ -->
          <div class="settings-panel" id="server-settings-roles">
            <h3>–†–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞</h3>
            <p class="settings-hint">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–æ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.</p>
            <div class="roles-section">
              <div class="roles-header">
                <button class="btn primary" id="create-role-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                  –°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å
                </button>
              </div>
              <div class="roles-info">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                <span>–†–æ–ª–∏ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–π –ø–æ–∑–∏—Ü–∏–µ–π –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞.</span>
              </div>
              <div class="roles-list" id="roles-list"></div>
            </div>
          </div>

          <!-- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è -->
          <div class="settings-panel" id="server-settings-invites">
            <h3>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è</h3>
            <p class="settings-hint">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Å—ã–ª–∫–∞–º–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä.</p>
            <div class="invites-section">
              <div class="invites-header">
                <button class="btn primary" id="create-invite-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                  –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
                </button>
              </div>
              <div class="invites-list" id="invites-list">
                <div class="empty-state">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –Ω–µ—Ç</div>
              </div>
            </div>
          </div>

          <!-- –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ -->
          <div class="settings-panel" id="server-settings-audit">
            <h3>–ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞</h3>
            <p class="settings-hint">–ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.</p>
            <div class="audit-section">
              <div class="audit-filters">
                <select id="audit-action-filter">
                  <option value="all">–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è</option>
                  <option value="member_join">–í—Å—Ç—É–ø–ª–µ–Ω–∏–µ</option>
                  <option value="member_leave">–í—ã—Ö–æ–¥</option>
                  <option value="member_kick">–ò—Å–∫–ª—é—á–µ–Ω–∏–µ</option>
                  <option value="member_ban">–ë–∞–Ω</option>
                  <option value="role_create">–°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–∏</option>
                  <option value="role_update">–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏</option>
                  <option value="channel_create">–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</option>
                  <option value="channel_delete">–£–¥–∞–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</option>
                  <option value="server_update">–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞</option>
                </select>
                <select id="audit-user-filter">
                  <option value="all">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
                </select>
              </div>
              <div class="audit-log" id="audit-log">
                <div class="empty-state">–ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ –ø—É—Å—Ç</div>
              </div>
            </div>
          </div>

          <!-- –ë–∞–Ω—ã -->
          <div class="settings-panel" id="server-settings-bans">
            <h3>–ó–∞–±–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
            <p class="settings-hint">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–ø–∏—Å–∫–æ–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</p>
            <div class="bans-section">
              <div class="bans-search">
                <input type="text" id="bans-search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏...">
              </div>
              <div class="bans-list" id="bans-list">
                <div class="empty-state">–ù–µ—Ç –∑–∞–±–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
              </div>
            </div>
          </div>

          <!-- –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ -->
          <div class="settings-panel" id="server-settings-danger">
            <h3>–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h3>
            <p class="settings-hint danger-hint">–≠—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã.</p>
            <div class="danger-zone">
              <div class="danger-item">
                <div class="danger-info">
                  <h4>–ü–µ—Ä–µ–¥–∞—Ç—å –≤–ª–∞–¥–µ–Ω–∏–µ</h4>
                  <p>–ü–µ—Ä–µ–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥—Ä—É–≥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É —Å–µ—Ä–≤–µ—Ä–∞.</p>
                </div>
                <button class="btn danger-outline" id="transfer-ownership-btn">–ü–µ—Ä–µ–¥–∞—Ç—å</button>
              </div>
              <div class="danger-item">
                <div class="danger-info">
                  <h4>–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</h4>
                  <p>–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –í—Å–µ –∫–∞–Ω–∞–ª—ã, —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –Ω–∞–≤—Å–µ–≥–¥–∞.</p>
                </div>
                <button class="btn danger" id="delete-server-btn">–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirm Delete Modal -->
  <div class="modal" id="confirm-delete-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä?</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <p class="warning-text">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–µ—Ä–≤–µ—Ä <strong id="delete-server-name"></strong>?</p>
        <p class="warning-text">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!</p>
        <div class="form-group"><label>–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</label><input type="text" id="confirm-server-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞"></div>
        <div class="btn-row">
          <button class="btn secondary" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn danger" id="confirm-delete-btn" disabled>–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirm Delete Channel Modal -->
  <div class="modal" id="confirm-delete-channel-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <p class="warning-text">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª <strong id="delete-channel-name"></strong>?</p>
        <p class="warning-text">–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ.</p>
        <div class="btn-row">
          <button class="btn secondary" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn danger" id="confirm-delete-channel-btn">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Forward Message Modal -->
  <div class="modal" id="forward-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–ü–µ—Ä–µ—Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="forward-preview">
          <div class="forward-msg" id="forward-msg-preview"></div>
        </div>
        <div class="form-group">
          <label>–í—ã–±–µ—Ä–∏—Ç–µ –∫—É–¥–∞ –ø–µ—Ä–µ—Å–ª–∞—Ç—å</label>
          <div class="forward-list" id="forward-list"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Channel Modal -->
  <div class="modal" id="edit-channel-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="settings-layout">
        <div class="settings-nav">
          <button class="settings-tab active" data-channel-settings="overview">–û–±–∑–æ—Ä</button>
          <button class="settings-tab" data-channel-settings="permissions">–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</button>
          <div class="settings-nav-divider"></div>
          <button class="settings-tab danger-tab" id="delete-channel-from-settings">–£–¥–∞–ª–∏—Ç—å –∫–∞–Ω–∞–ª</button>
        </div>
        <div class="settings-content">
          <div class="settings-panel active" id="channel-settings-overview">
            <h3>–û–±–∑–æ—Ä</h3>
            <div class="form-group">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label>
              <input type="text" id="edit-channel-name" placeholder="–Ω–∞–∑–≤–∞–Ω–∏–µ-–∫–∞–Ω–∞–ª–∞">
            </div>
            <button class="btn primary" id="save-channel-settings">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
          <div class="settings-panel" id="channel-settings-permissions">
            <h3>–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</h3>
            <p class="hint-text">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫—Ç–æ –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –∏ –ø–∏—Å–∞—Ç—å –≤ —ç—Ç–æ—Ç –∫–∞–Ω–∞–ª.</p>
            <div class="permissions-list">
              <div class="permission-item">
                <div class="permission-info">
                  <span class="permission-name">@everyone</span>
                  <span class="permission-desc">–í—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞</span>
                </div>
                <div class="permission-toggles">
                  <label class="toggle-label">
                    <input type="checkbox" checked id="perm-everyone-view">
                    <span>–ü—Ä–æ—Å–º–æ—Ç—Ä</span>
                  </label>
                  <label class="toggle-label">
                    <input type="checkbox" checked id="perm-everyone-send">
                    <span>–û—Ç–ø—Ä–∞–≤–∫–∞</span>
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Role Edit Modal -->
  <div class="modal" id="role-modal">
    <div class="modal-box">
      <div class="modal-header"><h2 id="role-modal-title">–°–æ–∑–¥–∞—Ç—å —Ä–æ–ª—å</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="form-group">
          <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏</label>
          <input type="text" id="role-name-input" placeholder="–ù–æ–≤–∞—è —Ä–æ–ª—å">
        </div>
        <div class="form-group">
          <label>–¶–≤–µ—Ç —Ä–æ–ª–∏</label>
          <div class="color-picker">
            <input type="color" id="role-color-input" value="#99aab5">
            <span id="role-color-preview" style="background: #99aab5"></span>
          </div>
        </div>
        <div class="form-group">
          <label>–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</label>
          <div class="permissions-checkboxes">
            <label class="checkbox-label"><input type="checkbox" id="perm-send-messages" checked><span>–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-manage-messages"><span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-manage-channels"><span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-kick"><span>–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-ban"><span>–ë–∞–Ω —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span></label>
            <label class="checkbox-label"><input type="checkbox" id="perm-manage-roles"><span>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏</span></label>
          </div>
        </div>
        <div class="btn-row">
          <button class="btn secondary" data-close>–û—Ç–º–µ–Ω–∞</button>
          <button class="btn primary" id="save-role-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Member Actions Modal -->
  <div class="modal" id="member-modal">
    <div class="modal-box">
      <div class="modal-header"><h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–º</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="member-profile">
          <div class="avatar large" id="member-modal-avatar"></div>
          <div class="member-modal-name" id="member-modal-name">–£—á–∞—Å—Ç–Ω–∏–∫</div>
        </div>
        <div class="form-group">
          <label>–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å</label>
          <select id="member-role-select" class="form-select"></select>
        </div>
        <div class="btn-row">
          <button class="btn secondary" data-close>–ó–∞–∫—Ä—ã—Ç—å</button>
          <button class="btn primary" id="assign-role-btn">–ù–∞–∑–Ω–∞—á–∏—Ç—å —Ä–æ–ª—å</button>
        </div>
        <div class="member-actions-danger">
          <button class="btn danger-outline" id="kick-member-btn">–ò—Å–∫–ª—é—á–∏—Ç—å</button>
          <button class="btn danger" id="ban-member-btn">–ó–∞–±–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Search Modal -->
  <div class="modal" id="search-modal">
    <div class="modal-box large">
      <div class="modal-header"><h2>–ü–æ–∏—Å–∫</h2><button class="close-btn" data-close>&times;</button></div>
      <div class="modal-content">
        <div class="search-input-row">
          <input type="text" id="global-search-input" placeholder="–ü–æ–∏—Å–∫ —Å–æ–æ–±—â–µ–Ω–∏–π...">
          <button class="btn primary" id="global-search-btn">–ù–∞–π—Ç–∏</button>
        </div>
        <div class="search-results" id="global-search-results"></div>
      </div>
    </div>
  </div>

  <!-- Emoji Picker -->
  <div class="emoji-picker" id="emoji-picker">
    <div class="emoji-grid">
      <button class="emoji-btn" data-emoji="üëç">üëç</button>
      <button class="emoji-btn" data-emoji="üëé">üëé</button>
      <button class="emoji-btn" data-emoji="‚ù§Ô∏è">‚ù§Ô∏è</button>
      <button class="emoji-btn" data-emoji="üòÇ">üòÇ</button>
      <button class="emoji-btn" data-emoji="üòÆ">üòÆ</button>
      <button class="emoji-btn" data-emoji="üò¢">üò¢</button>
      <button class="emoji-btn" data-emoji="üò°">üò°</button>
      <button class="emoji-btn" data-emoji="üéâ">üéâ</button>
      <button class="emoji-btn" data-emoji="üî•">üî•</button>
      <button class="emoji-btn" data-emoji="üíØ">üíØ</button>
      <button class="emoji-btn" data-emoji="‚úÖ">‚úÖ</button>
      <button class="emoji-btn" data-emoji="‚ùå">‚ùå</button>
    </div>
  </div>

  <!-- Voice Settings Dropdown -->
  <div class="voice-dropdown" id="voice-mic-dropdown">
    <div class="voice-dropdown-header">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤–≤–æ–¥–∞</div>
    <select id="voice-input-device" class="voice-device-select"></select>
    <div class="voice-dropdown-header">–ì—Ä–æ–º–∫–æ—Å—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</div>
    <input type="range" id="voice-input-volume" min="0" max="100" value="100" class="voice-slider">
    <div class="voice-volume-indicator">
      <div class="voice-volume-bar" id="voice-volume-bar"></div>
    </div>
    <div class="voice-dropdown-header">–®—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ</div>
    <label class="voice-toggle">
      <input type="checkbox" id="voice-noise-toggle" checked>
      <span class="voice-toggle-slider"></span>
      <span class="voice-toggle-label">–í–∫–ª—é—á–µ–Ω–æ</span>
    </label>
    <button class="btn small" id="voice-test-mic">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
